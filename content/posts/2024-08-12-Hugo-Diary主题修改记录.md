---
categories: 
- å®ç”¨æ•™ç¨‹
cover: https://pic.imgdb.cn/item/66cfc921d9c307b7e955ff0d.jpg
date: 2024-08-12 12:07:12+08:00
description: Hugo Diary ä¸»é¢˜ä¿®æ”¹è®°å½•ã€‚
slug: hugo-diary-modify
summary: Hugo Diary ä¸»é¢˜ä¿®æ”¹è®°å½•ã€‚
tags:
- Hugo
title: Hugo Diaryä¸»é¢˜ä¿®æ”¹è®°å½•
---
æœ¬æ–‡è®°å½• Hugo Diary ä¸»é¢˜çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬ç»†èŠ‚è°ƒæ•´ã€ä»£ç å—ä¼˜åŒ–ã€å­—ä½“ã€é¦–é¡µæ–‡ç« åˆ—è¡¨å¸ƒå±€ç­‰è°ƒæ•´ã€‚
<!--more-->

>[!NOTE]
>æ›´æ¢äº†ä¸»é¢˜ï¼Œæ‰€ä»¥ Diary ä¸»é¢˜çš„åšå®¢éƒ¨ç½²åˆ°äº† GitHub Pagesï¼Œä¸å†æ›´æ–°ï¼Œè®¿é—® [Hugo Diaryä¸»é¢˜åšå®¢](https://tom2almighty.github.io/hugo-blog-diary/)

## å‰è¨€

 `Hugo Diary` ä¸»é¢˜ç®€çº¦ç¾è§‚ï¼Œä½†æ˜¯ä¸€äº›ç»†èŠ‚ä¸ç¬¦åˆè‡ªå·±çš„è¦æ±‚ï¼Œå› æ­¤ç¨ä½œè°ƒæ•´å¹¶åŠ ä»¥è®°å½•ï¼Œä¿®æ”¹çš„å†…å®¹åŒ…æ‹¬å¦‚ä¸‹ï¼š
 - æ­£æ–‡è¡Œè·è°ƒæ•´
 - è¡¨æ ¼æ˜¾ç¤ºä¼˜åŒ–
 - ç›®å½•ä¼˜åŒ–
 - æ»šåŠ¨æ¡ç¾åŒ–
 - ä»£ç å—æ·»åŠ  `Mac` çº¢ç»¿ç¯è‰²å—
 - ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®
 - ä»£ç å—æ·»åŠ è¯­è¨€æ˜¾ç¤º
 - å­—ä½“ä¿®æ”¹
 - é¦–é¡µæ–‡ç« åˆ—è¡¨å¸ƒå±€è°ƒæ•´

æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š

![desktop](https://pic.imgdb.cn/item/66cdd2a2d9c307b7e9368bbe.webp)

![mobile](https://pic.imgdb.cn/item/66cdd2a3d9c307b7e9368c84.webp)
## å‡†å¤‡å·¥ä½œ

ä¸»é¢˜æ²¡æœ‰ `custom.scss` æ–‡ä»¶ï¼Œè‡ªå®šä¹‰æ–¹å¼å¯ä»¥å°† `~/themes/diary/assets/scss/journal.scss` æ–‡ä»¶å¤åˆ¶åˆ°ç«™ç‚¹æ ¹ç›®å½•ä¸‹ `~/assets/scss` ä¸­ï¼Œåœ¨å…¶ä¸­ç›´æ¥æ›´æ”¹ï¼Œä¹Ÿå¯ä»¥å¤åˆ¶åï¼Œåœ¨æœ«å°¾æ·»åŠ  `custom.scss` å¼•ç”¨ï¼Œç„¶ååœ¨è‡ªå®šä¹‰æ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œè¿™é‡Œé‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œæ–‡ä¸­ `~` å‡ä»£è¡¨åšå®¢æ ¹ç›®å½•ã€‚

1. å¤åˆ¶ `journal.scss` æ–‡ä»¶åˆ°ç«™ç‚¹æ ¹ç›®å½•ä¸‹ã€‚
2. åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ `custom.scss` ç”¨æ¥æ”¾ç½®è‡ªå®šä¹‰æ ·å¼ã€‚
3. åœ¨å¤åˆ¶çš„ `~/assets/scss/journal.scss` æœ«å°¾æ·»åŠ ä»£ç å¼•ç”¨è‡ªå®šä¹‰æ ·å¼ï¼š
```scss
@import "custom"
```

## ç»†èŠ‚è°ƒæ•´
æ•´ä½“ç»†èŠ‚è°ƒæ•´å¦‚ä¸‹ï¼š
- æ­£æ–‡çš„è¡Œé—´è·ç¨å¾®æ‰©å¤§
- ä¼˜åŒ–è¡¨æ ¼æ˜¾ç¤º
- ä¸åŒç›®å½•å±‚çº§ä½¿ç”¨ä¸åŒçš„åˆ—è¡¨æ ‡è®°
- ç›®å½•èƒŒæ™¯è‰²ã€é˜´å½±ä¿®æ”¹
- ä¸»é¡µèƒŒæ™¯è‰²ä¿®æ”¹
åœ¨ `custom.scss` æ·»åŠ ä¸‹é¢çš„ä»£ç ï¼š

```scss
// ä¸»é¡µèƒŒæ™¯è‰²ä¿®æ”¹
body, .stream-container .post-list-container {
  background: #FCFAF3;
}
// è°ƒæ•´æ­£æ–‡éƒ¨åˆ†çš„è¡Œé—´è·
p, li, body {
  line-height: 1.8;  // æ ¹æ®éœ€æ±‚è°ƒæ•´æ­¤å€¼
}
// è¡¨æ ¼ä¼˜åŒ–
table{
  display: table;
  width: 100%;
  empty-cells: show;
}
table th{
  border: 1px solid #eee;
  padding: 6px 12px;
  background-color: lighten($color-accent, 35%);
  body.night & {
    background-color: lighten($color-accent, 10%);
  }
  width: 400px;
}
table td{
  border: 1px solid #eee;
  padding: 6px 12px;
  width: 400px;
}
// ç›®å½•æ ·å¼ä¿®æ”¹
.toc{
  background: #FFFFFF;
  box-shadow:  0 2px 10px rgba(0, 0, 0, 0.1);
}
// ç›®å½•æ ‡é¢˜
.toc-title {
  font-size: large;
    text-align: left;
    font-weight: bold;
    color: #4d1e01;
    border-bottom: 1px solid $color-accent;
}
// ä¸åŒç›®å½•å±‚çº§ä½¿ç”¨ä¸åŒçš„åˆ—è¡¨æ ‡è®°
.toc ul ul {
  list-style-type: decimal;
}

.toc ul ul ul {
  list-style-type: none;
  padding-left: 10px;
  margin-left: 5px;
  border-left: 1px solid darkgrey;
}

.toc ul ul ul ul {
  list-style-type: none;
}
// ä¸åŒç›®å½•å±‚çº§ä½¿ç”¨ä¸åŒçš„åˆ—è¡¨æ ‡è®°
.toc ul ul {
  list-style-type: decimal;
}
.toc ul ul ul {
  list-style-type: disc;
}
.toc ul ul ul ul {
  list-style-type: circle;
}
```

## æ»šåŠ¨æ¡ç¾åŒ–

å°†æ»šåŠ¨æ¡æ»‘å—é¢œè‰²æ”¹æˆä¸»é¢˜å¼ºè°ƒè‰²ï¼Œå¹¶æ›´æ”¹é€æ˜åº¦ï¼Œåœ¨ `custom.scss` æ·»åŠ ä¸‹é¢çš„ä»£ç ï¼š

```scss
// å…¨å±€è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼
* {
  &::-webkit-scrollbar {
    width: 8px; // æ»šåŠ¨æ¡å®½åº¦
    height: 8px; // æ»šåŠ¨æ¡é«˜åº¦
  }

  &::-webkit-scrollbar-track {
    background: transparent; // æ»šåŠ¨æ¡è½¨é“èƒŒæ™¯è‰²
    border-radius: 5px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba($color-accent, 0.1); // æ»šåŠ¨æ¡æ»‘å—é¢œè‰²
    border-radius: 5px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: rgba($color-accent, 0.5); // æ»šåŠ¨æ¡æ»‘å—æ‚¬åœé¢œè‰²
  }
}
```

> [!TIP]
> ä¸Šè¿°ä»£ç  `background` çš„å€¼æ˜¯ä¸»é¢˜å†…ç½®å˜é‡å¼ºè°ƒè‰²çš„å€¼ï¼Œå¦‚æœè¦åº”ç”¨äºå…¶ä»–ä¸»é¢˜ï¼Œå¯ä»¥å°†å¯¹åº”çš„å€¼ä¿®æ”¹ä¸€ä¸‹ã€‚


## æ ‡ç­¾å¾®è°ƒ
åˆ†ç±»é¡µå’Œæ ‡ç­¾é¡µæ ‡ç­¾å¾®è°ƒï¼Œç¼©å°åœ†è§’å¤§å°ï¼Œæ›´æ”¹èƒŒæ™¯è‰²ï¼Œå¹¶å»é™¤è¾¹çº¿ã€‚
åœ¨ `custom.scss` ä¸­æ·»åŠ ä¸‹é¢çš„ä»£ç ï¼š

```scss
// æ ‡ç­¾æ ·å¼æ›´æ”¹
.rounded-pill{
  background: lighten($color-accent, 35%);
  border-radius: 10px !important;
  border: none;
  color: #000;
  &:hover{
    background: lighten($color-accent, 20%);
  }
  body.night & {
    background: #555;
    color: black;
    &:hover{
      background: lighten($color-accent, 20%);
    }
  }
}
```

## ä»£ç å—ä¼˜åŒ–
ä»£ç å—åšäº†å¦‚ä¸‹ä¼˜åŒ–ï¼š
- å³ä¸Šè§’æ·»åŠ å¤åˆ¶ä»£ç å—æŒ‰é’®
- ä¸­é—´æ·»åŠ ä»£ç å—è¯­è¨€æ˜¾ç¤º
- å·¦ä¸Šè§’æ·»åŠ  `MAC` çº¢ç»¿ç¯æ ·å¼
- æ·»åŠ ä»£ç å—æŠ˜å åŠŸèƒ½ï¼Œä»£ç å—é»˜è®¤é«˜åº¦ `300px` ï¼Œè¶…å‡ºæ˜¾ç¤ºæŒ‰é’®æ§åˆ¶æŠ˜å å±•å¼€

é¦–å…ˆåœ¨ `~/layouts/partials/extended_head.html` ä¸­å¼•å…¥ä¸€ä¸ª `js` æ–‡ä»¶ï¼š
```html
<script src="{{ "/js/codeblock-enhancements.js" | relURL }}" defer></script>
```

ç„¶åæ–°å»º `~/static/js/codeblock-enhancements.js` æ–‡ä»¶ï¼Œå†™å…¥ä»£ç ï¼š
```javascript
document.addEventListener('DOMContentLoaded', function() {
  const codeBlocks = document.querySelectorAll('.highlight');

  codeBlocks.forEach(function(highlight) {
    // åˆ›å»ºæ¨ªæ¡
    const toolbar = document.createElement('div');
    toolbar.className = 'code-toolbar';
    highlight.insertBefore(toolbar, highlight.firstChild);

    // æ·»åŠ  Mac é£æ ¼åœ†ç‚¹
    const macDots = document.createElement('div');
    macDots.className = 'mac-dots';
    toolbar.appendChild(macDots);

    // æ£€æµ‹è¯­è¨€
    let language = '';
    const possibleElements = [
      highlight,
      highlight.querySelector('code'),
      highlight.querySelector('pre > code'),
      highlight.querySelector('pre'),
      highlight.querySelector('td:nth-child(2) code')
    ];

    for (const element of possibleElements) {
      if (element && element.className) {
        const elementLanguageClass = element.className.split(' ').find(cls => cls.startsWith('language-'));
        if (elementLanguageClass) {
          language = elementLanguageClass.replace('language-', '');
          break;
        }
      }
    }

    // æ·»åŠ è¯­è¨€æ˜¾ç¤º
    if (language) {
      const languageDisplay = document.createElement('span');
      languageDisplay.className = 'language-display';
      languageDisplay.textContent = language;
      toolbar.appendChild(languageDisplay);
    }

    // æ·»åŠ å¤åˆ¶æŒ‰é’®
    const copyButton = document.createElement('button');
    copyButton.className = 'copy-button';
    copyButton.innerHTML = 'ğŸ“‹';
    copyButton.title = 'å¤åˆ¶ä»£ç ';
    toolbar.appendChild(copyButton);

    copyButton.addEventListener('click', function() {
      let codeText;
      const table = highlight.querySelector('table');
      if (table) {
        // æœ‰è¡Œå·çš„æƒ…å†µ
        codeText = Array.from(table.querySelectorAll('td:last-child'))
          .map(td => td.textContent.replace(/\n$/, ''))  // ç§»é™¤æ¯è¡Œæœ«å°¾çš„æ¢è¡Œç¬¦
          .join('\n');
      } else {
        // æ²¡æœ‰è¡Œå·çš„æƒ…å†µ
        const pre = highlight.querySelector('pre');
        codeText = pre.textContent;
      }

      // ç§»é™¤å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦ï¼Œå¹¶ç¡®ä¿åªæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦
      codeText = codeText.trim().replace(/\n+/g, '\n');

      navigator.clipboard.writeText(codeText).then(function() {
        copyButton.innerHTML = 'âœ…';
        setTimeout(function() {
          copyButton.innerHTML = 'ğŸ“‹';
        }, 2000);
      }, function() {
        copyButton.innerHTML = 'âŒ';
      });
    });

    // æ·»åŠ æŠ˜å åŠŸèƒ½
    if (highlight.offsetHeight > 300) {
      highlight.classList.add('collapsible');
      const expandButton = document.createElement('button');
      expandButton.className = 'expand-button';
      expandButton.innerHTML = 'â–¼';
      highlight.appendChild(expandButton);

      expandButton.addEventListener('click', function() {
        highlight.classList.toggle('expanded');
        expandButton.innerHTML = highlight.classList.contains('expanded') ? 'â–²' : 'â–¼';
      });
    }

    // è°ƒæ•´æ¨ªæ¡å®½åº¦
    function adjustToolbarWidth() {
      toolbar.style.width = `${highlight.offsetWidth}px`;
    }

    // åˆå§‹è°ƒæ•´å’Œçª—å£å¤§å°å˜åŒ–æ—¶è°ƒæ•´
    adjustToolbarWidth();
    window.addEventListener('resize', adjustToolbarWidth);
  });
});
```


ç„¶ååœ¨ `custom.scss` ä¸­æ·»åŠ æ ·å¼ä»£ç ï¼š

```scss
// ä»£ç å—æ ·å¼
.highlight {
  position: relative;
  margin-bottom: 1em;
  background-color: #2d2d2d;
  border-radius: 6px;
  overflow: hidden;
}

.code-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: #1e1e1e;
  padding: 8px 16px;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
}

.mac-dots {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #fc625d;
  box-shadow: 20px 0 #fdbc40, 40px 0 #35cd4b;
}

.language-display {
  font-size: 0.9em;
  color: #a0a0a0;
}

.copy-button {
  background-color: transparent;
  border: none;
  cursor: pointer;
  font-size: 1.2em;
  color: #a0a0a0;
  padding: 0;
  line-height: 1;

  &:hover {
    color: #ffffff;
  }
}

.highlight pre {
  margin: 0;
  padding: 1em;
  overflow-x: auto;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  // background: rgba(46,46,46, 1) !important;
  // color: rgba(255,255,255, 1);
}

.collapsible pre {
  max-height: 300px;
  overflow-y: hidden;
}

.collapsible::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30px;
  background: linear-gradient(to bottom, rgba(45,45,45,0), rgba(45,45,45,1));
  pointer-events: none;
}

.collapsible.expanded pre {
  max-height: none;
}

.collapsible.expanded::after {
  display: none;
}

.expand-button {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  padding: 2px 8px;
  background-color: transparent;
  border: none;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
  cursor: pointer;
  font-size: 1em;
  color: #a0a0a0;

  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: #ffffff;
  }
}

// è°ƒæ•´ Hugo è¡Œå·æ ·å¼
.highlight table {
  width: 100%;
  border-spacing: 0;
}

.highlight td {
  padding: 0;
}

.highlight .lntd:first-child {
  width: 10px;
  user-select: none;
}

.highlight .lnt {
  margin-right: 0.4em;
  padding: 0 0.4em 0 0.4em;
  color: #7f7f7f;
}

.highlight .ln {
  margin-right: 0.4em;
  padding: 0 0.4em 0 0.4em;
}

// ç¡®ä¿è¡Œå·å’Œä»£ç åœ¨åŒä¸€è¡Œ
.highlight .lntable {
  display: table;
  width: 100%;
  margin: 0;
  padding: 0;
}

.highlight .lntd {
  display: table-cell;
  vertical-align: top;
}
```

> [!TIP]
> `js` ä»£ç ä¸­ç¬¬ ` 78 ` è¡Œå¯ä»¥è®¾ç½®ä»£ç å—çš„æœ€å¤§é«˜åº¦


## æ›´æ”¹å­—ä½“

è¿™é‡Œç»™å‡ºä¸¤ä¸ªä¸­æ–‡å­—ä½“æ ·å¼ï¼Œä¸€ä¸ªæ˜¯éœé¹œæ–‡æ¥·ï¼Œä¸€ä¸ªæ˜¯é¸¿è’™å­—ä½“ï¼Œè‹±æ–‡å­—ä½“ä½¿ç”¨ `Nunito`ã€‚è‹±æ–‡å­—ä½“çš„ä¿®æ”¹å¯ä»¥æ‰¾ä¸€ä¸ªä¸å¸¦ä¸­æ–‡çš„ï¼Œç„¶åç¬¬ä¸€ä¸ªå­—ä½“è®¾ç½®ä¸ºè‹±æ–‡å­—ä½“ï¼Œç¬¬äºŒä¸ªè®¾ç½®ä¸ºä¸­æ–‡ï¼Œå­—ä½“çš„åœ°å€å¦‚ä¸‹ï¼š

- [éœé¹œæ–‡æ¥· GitHub ä»“åº“](https://github.com/lxgw/LxgwWenKai)
- [éœéª›æ–‡æ¥·æµè§ˆå™¨ä½¿ç”¨çš„ WebFont](https://github.com/chawyehsu/lxgw-wenkai-webfont)
- [é¸¿è’™å­—ä½“ WebFont](https://github.com/IKKI2000/harmonyos-fonts) 
- [Nunoti](https://fonts.google.com/specimen/Nunito)

é¦–å…ˆå¼•å…¥å­—ä½“ CSS æ ·å¼ï¼Œéœ€è¦åœ¨å…¶ä»– CSS æ ·å¼å‰å¼•ç”¨ï¼Œæ‰€ä»¥ç›´æ¥å°†ä¸»é¢˜ç›®å½•ä¸‹çš„ `~/themes/diary/layouts/partials/head.html` å¤åˆ¶åˆ°ä¸»é¢˜æ ¹ç›®å½•åŒåæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨ `<head>` ä¸‹å¼•ç”¨ï¼ŒäºŒé€‰ä¸€ç›´æ¥æ”¾åˆ°å¼€å¤´ï¼š

```html
// éœé¹œæ–‡æ¥·
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" />
// é¸¿è’™å­—ä½“
<link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css" />
// Nunoti
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
```

åœ¨ `journal.scss` ä¸­æ›´æ”¹å­—ä½“è®¾ç½®ï¼Œé€‰æ‹©å¯¹åº”çš„å­—ä½“æ›¿æ¢ï¼š

```scss
$default-font-list: Nunoti, HarmonyOS_Regular, -apple-system, BlinkMacSystemFont,"Segoe UI", Roboto, "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
$default-font-list: Nunoti, "LXGW WenKai Screen", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
```

## è°ƒæ•´é¦–é¡µæ–‡ç« åˆ—è¡¨å¸ƒå±€
å°†é¦–é¡µæ–‡ç« åˆ—è¡¨å¸ƒå±€è°ƒæ•´ä¸ºå¡ç‰‡æ ·å¼ï¼Œå¹¶ä¸”æ ¹æ®å¥‡å¶æ•°äº¤é”™æ˜¾ç¤ºæ–‡ç« å°é¢å›¾ï¼Œç§»åŠ¨è®¾å¤‡ä»ç„¶å°†å°é¢å›¾æ˜¾ç¤ºåœ¨æ–‡ç« ä¿¡æ¯ä¸Šæ–¹ï¼Œæ ·å¼å‚è€ƒ `Hexo Butterfly` ï¼Œåœ¨ `custom.scsss` ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š
```scss
// é¦–é¡µæ–‡ç« åˆ—è¡¨å¸ƒå±€è°ƒæ•´
.stream-container {
  .post-list-container {
    padding: 20px;

    > * {
      .post-item-wrapper {
        margin: 0 auto 20px;
        width: 95%;
        max-width: 800px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background-color: #fff;

        &:hover {
          transform: translateY(-5px);
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .post-item {
          margin: 0;
          padding: 0;
          display: flex;
          align-items: stretch;
          border-bottom: none;

          .post-item-image-wrapper {
            flex: 0 0 35%;
            max-width: 280px;
            margin: 0;
            overflow: hidden;

            .post-item-image {
              width: 100%;
              height: 100%;
              object-fit: cover;
              transition: transform 0.3s ease;
            }
          }

          &:hover {
            .post-item-image {
              transform: scale(1.05);
            }
          }

          .post-item-info-wrapper {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;

            .post-item-title {
              margin-bottom: 10px;
              font-size: 1.3em;
            }

            .post-item-summary {
              margin-bottom: 15px;
              display: -webkit-box;
              -webkit-line-clamp: 3;
              -webkit-box-orient: vertical;
              overflow: hidden;
            }
          }
        }
      }

      // å¥‡æ•°é¡¹æ–‡ç« ï¼Œå›¾ç‰‡åœ¨å·¦è¾¹ï¼ˆé»˜è®¤æƒ…å†µï¼‰
      &:nth-child(odd) {
        .post-item-wrapper .post-item {
          flex-direction: row;
        }
      }

      // å¶æ•°é¡¹æ–‡ç« ï¼Œå›¾ç‰‡åœ¨å³è¾¹
      &:nth-child(even) {
        .post-item-wrapper .post-item {
          flex-direction: row-reverse;

          .post-item-image-wrapper {
            margin-left: 0;
            margin-right: 0;
          }
        }
      }
    }
  }
}

// æš—è‰²æ¨¡å¼è°ƒæ•´
body.night {
  .stream-container {
    .post-list-container > * {
      .post-item-wrapper {
        background-color: #2d2d2d;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);

        &:hover {
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .post-item {
          border-bottom: none;
        }
      }
    }
  }
}

// é’ˆå¯¹ç§»åŠ¨è®¾å¤‡çš„è°ƒæ•´
@media screen and (max-width: $single-column-max-width) {
  .stream-container {
    .post-list-container {
      padding: 10px;

      > * {
        .post-item-wrapper {
          width: 100%;
          margin-bottom: 15px;

          .post-item {
            flex-direction: column !important; // å¼ºåˆ¶å‚ç›´å¸ƒå±€

            .post-item-image-wrapper {
              flex: none;
              max-width: none;
              width: 100%;
              height: 200px;
              order: -1; // ç¡®ä¿å›¾ç‰‡å§‹ç»ˆåœ¨ä¸Šæ–¹
            }

            .post-item-info-wrapper {
              padding: 15px;

              .post-item-title {
                font-size: 1.2em;
              }
            }
          }
        }
      }
    }
  }
}
```

## ç½‘ç«™è®¿é—®é‡
ä¸»é¢˜è‡ªå¸¦äº†è°·æ­Œåˆ†æå’Œå¾®è½¯çš„ `Clarity`ï¼Œä½†æ˜¯è¿˜æ˜¯æ¨èä½¿ç”¨å…¶ä»–çš„æœåŠ¡ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ `Umami` ï¼Œåå°èƒ½çœ‹åˆ°è®¿é—®çš„è¯¦ç»†è®°å½•ï¼Œæ­å»ºæ–¹æ³•å¯ä»¥å‚è€ƒè®¿é—®[ä¹‹å‰çš„æ–‡ç« ](https://blog.grew.cc/umami/)ã€‚
å‰å°çš„å±•ç¤ºå¯ä»¥ä½¿ç”¨ä¸è’œå­è®¡æ•°ã€‚
### Umami
é¦–å…ˆåœ¨ `~/layouts\partials\extended_head.html` ä¸­æ·»åŠ  `js` å¼•å…¥ï¼š
```html
{{ if .Site.Params.umami -}}
<script 
    defer 
    src="https://umami.grew.cc/myscript" 
    data-website-id="b2daf838-b6d4-4783-a157-e2fbe0cc225d"
    data-domains="blog.grew.cc"
></script>
{{- end }}
```

>[!NOTE]
>	ä¸Šè¿°å‚æ•°å¯ä»¥ç›´æ¥å¤åˆ¶ `umami` çš„è·Ÿè¸ªä»£ç ï¼Œå¯ä»¥åŠ ä¸€è¡Œ `data-domains` ï¼Œè®¾ç½®æˆè‡ªå·±çš„åŸŸåï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢æœ¬åœ°è°ƒè¯•æ—¶çš„è®¿é—®è¢«ç»Ÿè®¡è¿›å»ã€‚

æœ€ååœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ `[params]` ä¸‹åŠ å…¥é…ç½®å¼€å…³ï¼Œæ³¨æ„é…ç½®æ ¼å¼
```toml
umami = true
```

### ä¸è’œå­
è¿™ä¸ªå‰å°å±•ç¤ºå¯ä»¥ä½¿ç”¨æœè€å¸ˆè¯´å»ºçš„ `API`ï¼Œæé«˜å›½å†…è®¿é—®é€Ÿåº¦ï¼Œè®¿é—®åœ°å€ï¼š[æœè€å¸ˆè¯´è‡ªå»ºå›½å†…ä¸è’œå­ API](https://bsz.dusays.com/)

é¦–å…ˆåœ¨ `~/layouts\partials\extended_head.html` ä¸­æ·»åŠ  `js` å¼•å…¥ï¼š
```html
{{/*  busuanziç»Ÿè®¡  */}}
{{ if .Site.Params.busuanzi -}}
<script async src="https://npm.elemecdn.com/penndu@1.0.0/bsz.js"></script>
{{- end }}
```

ç„¶ååœ¨é¡µè„šæ·»åŠ æœ¬ç«™è®¿é—®é‡ï¼Œåœ¨æ–‡ç« è¯¦æƒ…é¡µæ·»åŠ æœ¬æ–‡è®¿é—®é‡ï¼Œ`Diary` ä¸»é¢˜é¡µè„šæ˜¯ `copyright.html`

å°†ä¸»é¢˜ç›®å½•ä¸‹çš„ `copyright.html` å’Œ `single.html` å¤åˆ¶åˆ°ç«™ç‚¹ç›¸åŒè·¯å¾„ä¸‹ï¼Œç„¶ååœ¨ `copyright.html` ä¸­æ·»åŠ ï¼š

```html
{{ if .Site.Params.busuanzi -}}
<br>
<span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡</span>&nbsp;
<span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span>
{{- end }}
```

åœ¨ `single.html` ä¸­ `59` è¡Œï¼Œé˜…è¯»æ—¶é—´é…ç½®åé¢æ·»åŠ ï¼š

```html
{{ if .Site.Params.busuanzi -}}
<br>
<span id="busuanzi_container_page_pv">æœ¬æ–‡é˜…è¯»é‡ <span id="busuanzi_value_page_pv"></span> æ¬¡</span>&nbsp;
<span id="busuanzi_container_page_pv">æœ¬æ–‡è®¿å®¢æ•° <span id="busuanzi_value_page_uv"></span> äºº</span>
{{- end }}
```

æœ€ååœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ `[params]` ä¸‹æ·»åŠ å¼€å…³ï¼ŒåŒ `umami` ä¸€æ ·ï¼š
```toml
busuanzi = true
```
## å‚è€ƒ


- [é»„å¿ å¾·çš„åšå®¢](https://huangzhongde.cn/post/2020-02-21-hugo-code-copy-to-clipboard/)
- [ä½¿ç”¨Github Pages+Hugo+PaperModæ­å»ºåšå®¢](https://www.elegantcrazy.com/posts/blog/build-blog-with-github-pages-hugo-and-papermod/#%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD)
