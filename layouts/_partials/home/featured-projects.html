{{/* 特色项目区域 - 首页展示 */}}

{{ $featuredProjects := where (where .Site.RegularPages "Section" "projects") "Params.featured" true }}

{{ if $featuredProjects }}
  <section class="mb-6">
    <!-- 标题 -->
    <div class="mb-6">
      <h2 class="text-foreground text-2xl font-bold">
        {{ i18n "project.featured_projects" | default "Featured Projects" }}
      </h2>
    </div>

    <!-- 项目网格 - 响应式布局 -->
    <div class="grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
      {{ range first 3 $featuredProjects }}
        {{ partial "content/project-card.html" (dict "page" .) }}
      {{ end }}
    </div>

    <!-- 查看所有项目按钮 -->
    {{ $projectsCount := len (where .Site.RegularPages "Section" "projects") }}
    {{ if gt $projectsCount (len $featuredProjects) }}
      <div class="mt-8 mb-6 text-center">
        <a
          href="{{ "/projects/" | relLangURL }}"
          class="bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary/20 inline-flex items-center gap-2 rounded-xl px-6 py-3 font-medium shadow-sm transition-all duration-300 ease-out hover:-translate-y-1 hover:scale-105 hover:shadow-lg focus:ring-2 focus:outline-none active:scale-95">
          {{ partial "features/icon.html" (dict "name" "projects" "size" "md" "ariaLabel" (i18n "nav.projects")) }}
          <span>{{ i18n "project.view_all_projects" | default "View All Projects" }}</span>
          {{ partial "features/icon.html" (dict "name" "arrow-right" "size" "sm" "ariaLabel" "") }}
        </a>
      </div>
    {{ end }}
  </section>
{{ end }}
